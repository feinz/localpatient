{% extends "base_generic.html" %}

{% block content %}
  <h5>Welcome to Local Patient DB</h5>
  {% comment %} <p></p> {% endcomment %}
  <table>
    <tr>
      <th>
          Database Summary:</br>
          <strong>Total Patient:</strong> {{ patient_number }}</br>
          <strong>Patient Active:</strong> {{ patient_total_act }}</br>
          <strong>Patient RIP:</strong> {{ patient_total_rip }}</br>
          <strong>Patient MIA:</strong> {{ patient_total_mia }}</br>
      </th>
      <th>
        <strong>For The Year:</strong> {{ currentyear }}</br>
        <strong>Total Patient:</strong> {{ patient_total_year }}</br>
        <strong>Patient Active:</strong> {{ patient_yearinput_act }}</br>
        <strong>Patient RIP:</strong> {{ patient_yearinput_rip }}</br>
        <strong>Patient MIA:</strong> {{ patient_yearinput_mia }}</br>
      </th>
    </tr>
    </table>

    <!-- Chart-->
  <div id="chart"></div>
    <!--end of Chart-->
  
  <form method='GET' action='{% url "index" %}' id="graphform">
    <button type='submit' name='q' value='' class='waves-effect waves-light btn' id='b2019'>View All</button>
    <button type='submit' name='q' value='2019' class='waves-effect waves-light btn' id='b2019'>2019</button>
    <button type='submit' name='q' value='2018' class='waves-effect waves-light btn' id='b2018'>2018</button>
    <button type='submit' name='q' value='2017' class='waves-effect waves-light btn' id='b2017'>2017</button>
    <button type='submit' name='q' value='2016' class='waves-effect waves-light btn' id='b2016'>2016</button>
    <button type='submit' name='q' value='2015' class='waves-effect waves-light btn' id='b2015'>2015</button>
  </form>
  </br>
  <!--will not used maybe
  <form method='GET' action='{% url "index" %}' id="graphform">
    <input pattern="[0-9]*" inputmode="numeric" type='number' name='q' placeholder="Or Enter Year" value='{{ request.GET.q }}' id='entry'>
    <button type='submit' value='Filter Year' class='waves-effect waves-light btn' id='sub1'>Go<i class="material-icons right">send</i></button>
  </form>
  -->

  {% comment %} for specific year patient {% endcomment %}
  <script>
    var currentyear = {{ currentyear }};
    if (currentyear==2015||currentyear==2016||currentyear==2017||currentyear==2018||currentyear==2019){
      var patient_act = {{ patient_yearinput_act }};
      var patient_rip = {{ patient_yearinput_rip }};
      var patient_mia = {{ patient_yearinput_mia }};
      var patient_year_act_01 = {{ patient_year_act_01 }};
      var patient_year_act_02 = {{ patient_year_act_02 }};
      var patient_year_act_03 = {{ patient_year_act_03 }};
      var patient_year_act_04 = {{ patient_year_act_04 }};
      var patient_year_act_05 = {{ patient_year_act_05 }};
      var patient_year_act_06 = {{ patient_year_act_06 }};
      var patient_year_act_07 = {{ patient_year_act_07 }};
      var patient_year_act_08 = {{ patient_year_act_08 }};
      var patient_year_act_09 = {{ patient_year_act_09 }};
      var patient_year_act_10 = {{ patient_year_act_10 }};
      var patient_year_act_11 = {{ patient_year_act_11 }};
      var patient_year_act_12 = {{ patient_year_act_12 }};
      var patient_year_rip_01 = {{ patient_year_rip_01 }};
      var patient_year_rip_02 = {{ patient_year_rip_02 }};
      var patient_year_rip_03 = {{ patient_year_rip_03 }};
      var patient_year_rip_04 = {{ patient_year_rip_04 }};
      var patient_year_rip_05 = {{ patient_year_rip_05 }};
      var patient_year_rip_06 = {{ patient_year_rip_06 }};
      var patient_year_rip_07 = {{ patient_year_rip_07 }};
      var patient_year_rip_08 = {{ patient_year_rip_08 }};
      var patient_year_rip_09 = {{ patient_year_rip_09 }};
      var patient_year_rip_10 = {{ patient_year_rip_10 }};
      var patient_year_rip_11 = {{ patient_year_rip_11 }};
      var patient_year_rip_12 = {{ patient_year_rip_12 }};
      var patient_year_mia_01 = {{ patient_year_mia_01 }};
      var patient_year_mia_02 = {{ patient_year_mia_02 }};
      var patient_year_mia_03 = {{ patient_year_mia_03 }};
      var patient_year_mia_04 = {{ patient_year_mia_04 }};
      var patient_year_mia_05 = {{ patient_year_mia_05 }};
      var patient_year_mia_06 = {{ patient_year_mia_06 }};
      var patient_year_mia_07 = {{ patient_year_mia_07 }};
      var patient_year_mia_08 = {{ patient_year_mia_08 }};
      var patient_year_mia_09 = {{ patient_year_mia_09 }};
      var patient_year_mia_10 = {{ patient_year_mia_10 }};
      var patient_year_mia_11 = {{ patient_year_mia_11 }};
      var patient_year_mia_12 = {{ patient_year_mia_12 }};
      Highcharts.chart('chart', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Patients Statistic For The Year: {{ currentyear }}'
        },
        xAxis: {
            categories: ['Active', 'Rest In Peace', 'Missing']
        },
        series: [{
            name: 'Jan',
            data: [patient_year_act_01, patient_year_rip_01, patient_year_mia_01],
            color: '#ff8a80'
            },{
            name: 'Feb',
            data: [patient_year_act_02, patient_year_rip_02, patient_year_mia_02],
            color: '#ff80ab'
            },{
            name: 'Mar',
            data: [patient_year_act_03, patient_year_rip_03, patient_year_mia_03],
            color: '#ea80fc'
            },{
            name: 'Apr',
            data: [patient_year_act_04, patient_year_rip_04, patient_year_mia_04],
            color: '#b388ff'
            },{
            name: 'May',
            data: [patient_year_act_05, patient_year_rip_05, patient_year_mia_05],
            color: '#8c9eff'
            },{
            name: 'Jun',
            data: [patient_year_act_06, patient_year_rip_06, patient_year_mia_06],
            color: '#82b1ff'
            },{
            name: 'Jul',
            data: [patient_year_act_07, patient_year_rip_07, patient_year_mia_07],
            color: '#80d8ff'
            },{
            name: 'Aug',
            data: [patient_year_act_08, patient_year_rip_08, patient_year_mia_08],
            color: '#84ffff'
            },{
            name: 'Sep',
            data: [patient_year_act_09, patient_year_rip_09, patient_year_mia_09],
            color: '#ccff90'
            },{
            name: 'Oct',
            data: [patient_year_act_10, patient_year_rip_10, patient_year_mia_10],
            color: '#ffe57f'
            },{
            name: 'Nov',
            data: [patient_year_act_11, patient_year_rip_11, patient_year_mia_11],
            color: '#ffd180'
            },{
            name: 'Dec',
            data: [patient_year_act_12, patient_year_rip_12, patient_year_mia_12],
            color: '#ff9e80'
            }]
      });
    }
  </script>

  {% comment %} for view all patient {% endcomment %}
  <script>
    var currentyear = {{ currentyear }};
    if (currentyear==0000){
      var patient_year2015_mia = {{ patient_year2015_mia }};
      var patient_year2015_act = {{ patient_year2015_act }};
      var patient_year2015_rip = {{ patient_year2015_rip }};
      var patient_year2016_mia = {{ patient_year2016_mia }};
      var patient_year2016_act = {{ patient_year2016_act }};
      var patient_year2016_rip = {{ patient_year2016_rip }};
      var patient_year2017_mia = {{ patient_year2017_mia }};
      var patient_year2017_act = {{ patient_year2017_act }};
      var patient_year2017_rip = {{ patient_year2017_rip }};
      var patient_year2018_mia = {{ patient_year2018_mia }};
      var patient_year2018_act = {{ patient_year2018_act }};
      var patient_year2018_rip = {{ patient_year2018_rip }};
      var patient_year2019_mia = {{ patient_year2019_mia }};
      var patient_year2019_act = {{ patient_year2019_act }};
      var patient_year2019_rip = {{ patient_year2019_rip }};
      Highcharts.chart('chart', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Patients Statistic For All Year'
        },
        xAxis: {
            categories: ['Active', 'Rest In Peace', 'Missing']
        },
        series: [{
            name: '2015',
            data: [patient_year2015_act, patient_year2015_rip, patient_year2015_mia]
        }, {
            name: '2016',
            data: [patient_year2016_act, patient_year2016_rip, patient_year2016_mia]
        }, {
            name: '2017',
            data: [patient_year2017_act, patient_year2017_rip, patient_year2017_mia]
        }, {
            name: '2018',
            data: [patient_year2018_act, patient_year2018_rip, patient_year2018_mia]
        }, {
            name: '2019',
            data: [patient_year2019_act, patient_year2019_rip, patient_year2019_mia]
        }]
      });
    }
  </script>
{% endblock %}